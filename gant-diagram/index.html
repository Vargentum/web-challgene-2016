<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gant Diagram</title>

  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  
  <h1>Gant time-based diagrams</h1>

  <h3>Examples</h3>
  <label>
    <input type="radio" name="diagram-file" value="./data/tasks-1.json" checked />
    Tasks 2010
  </label>
  <label>
    <input type="radio" name="diagram-file" value="./data/tasks-2.json" />
    Tasks 2015
  </label>


  <h3>Scale switcher</h3>
  <label>
    <input type="radio" name="diagram-scale" value="hour" />
    Hour
  </label>
  <label>
    <input type="radio" name="diagram-scale" value="day" checked />
    Day
  </label>
  <label>
    <input type="radio" name="diagram-scale" value="week" />
    Week
  </label>
  <label>
    <input type="radio" name="diagram-scale" value="month" />
    Month
  </label>

  <div id="app"></div>


  <script src='./app.js'></script>
  <script>
    function getInitialFrom(name) {
      return Utils.$('[name='+name+']').filter(function(i) {return i.checked})[0].value
    }

    var App = new App({
      file: getInitialFrom('diagram-file'),
      scale: getInitialFrom('diagram-scale'),
      elem: document.getElementById('app')
    })

    document.body.addEventListener('change', function(e) {
      if (e.target && e.target.name === 'diagram-file') {
        App.update({
          file: e.target.value
        })
      }
    })

    document.body.addEventListener('change', function(e) {
      if (e.target && e.target.name === 'diagram-scale') {
        App.update({
          scale: e.target.value
        })
      }
    })

  </script>
</body>
</html>